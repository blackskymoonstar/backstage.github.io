(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45a5478d"],{"111b":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"divBox"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-tabs",{on:{"tab-click":function(e){return t.getList(1)}},model:{value:t.userFrom.user_type,callback:function(e){t.$set(t.userFrom,"user_type",e)},expression:"userFrom.user_type"}},[a("el-tab-pane",{attrs:{label:"全部用户",name:""}}),t._v(" "),a("el-tab-pane",{attrs:{label:"微信用户",name:"wechat"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"小程序用户",name:"routine"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"H5用户",name:"h5"}})],1),t._v(" "),a("div",{staticClass:"container"},[a("el-form",{attrs:{size:"small","label-width":"100px",inline:!0}},[a("el-form-item",{staticStyle:{display:"block"},attrs:{label:"搜索时间："}},[a("el-radio-group",{staticClass:"mr20",attrs:{type:"button",size:"small"},on:{change:function(e){return t.selectChange(t.userFrom.date)}},model:{value:t.userFrom.date,callback:function(e){t.$set(t.userFrom,"date",e)},expression:"userFrom.date"}},t._l(t.fromList.fromTxt,(function(e,s){return a("el-radio-button",{key:s,attrs:{label:e.val}},[t._v(t._s(e.text))])})),1),t._v(" "),a("el-date-picker",{staticStyle:{width:"250px"},attrs:{"value-format":"yyyy/MM/dd",format:"yyyy/MM/dd",size:"small",type:"daterange",placement:"bottom-end",placeholder:"自定义时间"},on:{change:t.onchangeTime},model:{value:t.timeVal,callback:function(e){t.timeVal=e},expression:"timeVal"}}),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(e){return t.getExportFileList(e)}}},[t._v("导出搜索记录")])],1),t._v(" "),a("el-form-item",{attrs:{label:"搜索词："}},[a("el-input",{attrs:{placeholder:"请输入搜索词",clearable:""},model:{value:t.userFrom.keyword,callback:function(e){t.$set(t.userFrom,"keyword",e)},expression:"userFrom.keyword"}},[a("el-button",{staticClass:"el-button-solt",attrs:{slot:"append",icon:"el-icon-search",size:"small"},on:{click:function(e){return t.getList(1)}},slot:"append"})],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"用户昵称："}},[a("el-input",{attrs:{placeholder:"请输入昵称",clearable:""},model:{value:t.userFrom.nickname,callback:function(e){t.$set(t.userFrom,"nickname",e)},expression:"userFrom.nickname"}},[a("el-button",{staticClass:"el-button-solt",attrs:{slot:"append",icon:"el-icon-search",size:"small"},on:{click:function(e){return t.getList(1)}},slot:"append"})],1)],1)],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData.data,size:"small","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"uid",label:"用户ID","min-width":"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(0!=e.row.uid?e.row.uid:"未知"))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"头像","min-width":"50"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"demo-image__preview"},[a("el-image",{staticStyle:{width:"36px",height:"36px"},attrs:{src:e.row.user?e.row.user.avatar:t.moren,"preview-src-list":[e.row.user&&e.row.user.avatar||t.moren]}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"昵称","min-width":"90"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("div",{staticClass:"acea-row"},[a("div",[t._v(t._s(s.user&&s.user.nickname?s.user.nickname:"未知"))])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"用户类型","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[s.user?a("span",[t._v(t._s("wechat"==s.user.user_type?"公众号":"routine"==s.user.user_type?"小程序":s.user.user_type))]):a("span",[t._v("未知")])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"content",label:"搜索词","min-width":"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"搜索时间","min-width":"180"}})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"page-sizes":[20,40,60,80],"page-size":t.userFrom.limit,"current-page":t.userFrom.page,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.total},on:{"size-change":t.handleSizeChange,"current-change":t.pageChange}})],1)],1)],1)},r=[],l=a("c24f"),n=a("e572"),i=a("83d6"),o={name:"UserList",components:{},data:function(){return{moren:a("cdfe"),fromList:n["a"],timeVal:[],maxCols:3,isShowSend:!0,visible:!1,roterPre:i["roterPre"],tableData:{data:[],total:0},listLoading:!0,userFrom:{date:"",user_type:"",nickname:"",keyword:"",page:1,limit:20},grid:{xl:8,lg:12,md:12,sm:24,xs:24},grid2:{xl:18,lg:16,md:12,sm:24,xs:24},grid3:{xl:8,lg:12,md:12,sm:24,xs:24}}},mounted:function(){this.getList("")},methods:{selectChange:function(t){this.timeVal=[],this.userFrom.page=1,this.userFrom.date=t,this.getList("")},onchangeTime:function(t){this.timeVal=t,this.userFrom.page=1,this.userFrom.date=t?this.timeVal.join("-"):"",this.getList("")},getExportFileList:function(){var t=this;Object(l["O"])(this.userFrom).then((function(e){var a=t.$createElement;t.$msgbox({title:"提示",message:a("p",null,[a("span",null,'文件正在生成中，请稍后点击"'),a("span",{style:"color: teal"},"导出记录"),a("span",null,'"查看~ ')]),confirmButtonText:"我知道了"}).then((function(e){t.$router.push({path:t.roterPre+"/group/exportList"})}))})).catch((function(e){t.$message.error(e.message)}))},getList:function(t){var e=this;this.listLoading=!0,this.userFrom.page=t||this.userFrom.page,"0"===this.userFrom.user_type&&(this.userFrom.user_type=""),Object(l["W"])(this.userFrom).then((function(t){e.tableData.data=t.data.list,e.tableData.total=t.data.count,e.listLoading=!1})).catch((function(t){e.listLoading=!1,e.$message.error(t.message)}))},pageChange:function(t){this.userFrom.page=t,this.getList("")},handleSizeChange:function(t){this.userFrom.limit=t,this.getList("")}}},u=o,c=(a("4c4d"),a("2877")),m=Object(c["a"])(u,s,r,!1,null,"25a28e14",null);e["default"]=m.exports},"196e":function(t,e,a){},"4c4d":function(t,e,a){"use strict";a("196e")},cdfe:function(t,e,a){t.exports=a.p+"system/img/f.5aa43cd3.png"},e572:function(t,e,a){"use strict";a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return l})),a.d(e,"d",(function(){return n}));var s=[{label:"开启",value:1},{label:"关闭",value:0}],r={title:"选择时间",custom:!0,fromTxt:[{text:"全部",val:""},{text:"今天",val:"today"},{text:"昨天",val:"yesterday"},{text:"最近7天",val:"lately7"},{text:"最近30天",val:"lately30"},{text:"本月",val:"month"},{text:"本年",val:"year"}]},l={title:"状态",custom:!0,fromTxt:[{text:"全部",val:""},{text:"待审核",val:"0"},{text:"审核已通过",val:"1"},{text:"审核未通过",val:"2"}]},n={title:"选择时间",custom:!0,fromTxt:[{text:"本日",val:"0"},{text:"本月",val:"1"},{text:"本季",val:"2"},{text:"本年",val:"3"}]}}}]);